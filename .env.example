# =============================================================================
# UNWRAPPED FOR PLEX CONFIGURATION
# =============================================================================
# Copy this file to .env and fill in your actual values
# DO NOT commit the .env file to version control

# -----------------------------------------------------------------------------
# Application Configuration
# -----------------------------------------------------------------------------
NODE_ENV=production
APP_URL=http://localhost:3222
TARGET_YEAR=2025
NEXT_PUBLIC_API_URL=http://localhost:3221
NEXT_PUBLIC_APP_URL=http://localhost:3222

# Public Plex Server URL (optional - if set, shows "Watch More on Plex" button)
NEXT_PUBLIC_PLEX_URL=

# -----------------------------------------------------------------------------
# Database Configuration (PostgreSQL)
# -----------------------------------------------------------------------------
POSTGRES_HOST=db
POSTGRES_PORT=5432
POSTGRES_DB=plexunwrapped
POSTGRES_USER=plexunwrapped
POSTGRES_PASSWORD=CHANGE_THIS_TO_A_SECURE_PASSWORD

# -----------------------------------------------------------------------------
# Redis Configuration (Cache)
# -----------------------------------------------------------------------------
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DB=0

# -----------------------------------------------------------------------------
# Tautulli Configuration (REQUIRED)
# -----------------------------------------------------------------------------
TAUTULLI_URL=http://localhost:8181
TAUTULLI_API_KEY=your_tautulli_api_key_here
TAUTULLI_TIMEOUT=30000
TAUTULLI_CACHE_TTL=3600
TAUTULLI_PAGE_SIZE=1000

# -----------------------------------------------------------------------------
# Overseerr Configuration (OPTIONAL)
# -----------------------------------------------------------------------------
# Set ENABLE_OVERSEERR=false to disable
OVERSEERR_URL=http://localhost:5055
OVERSEERR_API_KEY=your_overseerr_api_key_here
OVERSEERR_TIMEOUT=30000
OVERSEERR_CACHE_TTL=3600
ENABLE_OVERSEERR=false

# -----------------------------------------------------------------------------
# SMTP Email Configuration (REQUIRED for sending emails)
# -----------------------------------------------------------------------------
# For Gmail/Google Workspace:
# - Use smtp.gmail.com with port 587
# - Generate app password: https://myaccount.google.com/apppasswords
# - SMTP_SECURE should be false (uses STARTTLS)

SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_SECURE=false
SMTP_USER=your_email@example.com
SMTP_PASSWORD=your_app_password_here
SMTP_FROM_EMAIL=noreply@example.com
SMTP_FROM_NAME=Unwrapped for Plex
EMAIL_RATE_LIMIT=10

# -----------------------------------------------------------------------------
# Admin Configuration
# -----------------------------------------------------------------------------
ADMIN_USERNAME=admin
ADMIN_PASSWORD=CHANGE_THIS_PASSWORD
JWT_SECRET=CHANGE_THIS_TO_A_RANDOM_32_PLUS_CHARACTER_STRING
JWT_EXPIRES_IN=7d

# Generate JWT secret with: openssl rand -base64 32

# -----------------------------------------------------------------------------
# Security Configuration
# -----------------------------------------------------------------------------
TOKEN_LENGTH=32
TOKEN_EXPIRATION_DAYS=90
RATE_LIMIT_PUBLIC=10000
RATE_LIMIT_ADMIN=10000
CORS_ORIGINS=http://localhost:3222

# -----------------------------------------------------------------------------
# Feature Flags
# -----------------------------------------------------------------------------
ENABLE_SHARE_IMAGES=true
ENABLE_PUBLIC_STATS=true
ENABLE_EMAIL_TRACKING=false
DEBUG_MODE=false

# Test mode: Generate stats but DON'T send emails (recommended for first run)
TEST_MODE=true

# -----------------------------------------------------------------------------
# Performance Configuration
# -----------------------------------------------------------------------------
MAX_WORKERS=4
CACHE_TTL_SECONDS=3600
DB_POOL_MIN=2
DB_POOL_MAX=10

# -----------------------------------------------------------------------------
# Logging Configuration
# -----------------------------------------------------------------------------
LOG_LEVEL=info
LOG_FILE_PATH=/app/logs
LOG_TO_CONSOLE=true

# -----------------------------------------------------------------------------
# Port Configuration
# -----------------------------------------------------------------------------
FRONTEND_PORT=3222
BACKEND_PORT=3221
